{% extends "base.html" %}
{% block title %}All Feedback â€” AiPod Admin{% endblock %}

{% block content %}
<div class="mb-6">
    <h1 class="text-2xl font-bold text-white mb-2">All Feedback</h1>
    <div class="flex gap-3 text-sm">
        <a href="/admin" class="text-gray-400 hover:text-white transition">Dashboard</a>
        <a href="/admin/users" class="text-gray-400 hover:text-white transition">Users</a>
        <a href="/admin/jobs" class="text-gray-400 hover:text-white transition">Jobs</a>
        <a href="/admin/feedback" class="text-yellow-400 font-medium">Feedback</a>
    </div>
</div>

{% if feedbacks %}
<div class="space-y-3">
    {% for fb in feedbacks %}
    <div class="bg-gray-900 border border-gray-800 rounded p-4">
        <div class="flex items-center justify-between mb-2">
            <div class="flex items-center gap-3">
                <span class="text-sm text-white font-medium">{{ fb.user.email }}</span>
                {% if fb.rating %}
                <span class="text-yellow-400 text-sm">
                    {% for i in range(fb.rating) %}&#9733;{% endfor %}{% for i in range(5 - fb.rating) %}<span class="text-gray-600">&#9733;</span>{% endfor %}
                </span>
                {% else %}
                <span class="text-gray-600 text-xs">No rating</span>
                {% endif %}
            </div>
            <span class="text-xs text-gray-500">{{ fb.created_at.strftime('%d %b %Y, %H:%M') }}</span>
        </div>
        <p class="text-gray-300 text-sm">{{ fb.message }}</p>
    </div>
    {% endfor %}
</div>
{% else %}
<p class="text-gray-500 text-sm">No feedback yet.</p>
{% endif %}
{% endblock %}
